<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMC</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <div class="container">
        <h2>Calculadora de IMC</h2>
        <h6>(Índice de Massa Corporal)</h6>
        <br>
        <table>
            <thead>
                <th>Peso (kg)</th>
                <th>Altura (m)</th>
            </thead>
            <tbody>
                <td><input id="inputPeso" class="inputRow" type="number" step="0.1"></td>
                <td><input id="inputAltura" class="inputRow" type="number" step="0.01"></td>
            </tbody>
        </table>
        <br>
        <button id="botaoCalculo">Calcular</button>

    </div>

    <div class="container-small">
        <strong>O IMC é:</strong>
        <p id="valorImc">&MediumSpace;</p>
    </div>

    <div class="container-small2">
        <strong>Situação:</strong>
        <p id="situacao">&MediumSpace;</p>
    </div>

    <div class="footer">
        <p class="footer">Desenvolvido por:</p>
        &MediumSpace;
        <a href="https://github.com/wancarvalho">Wanderson</a>
    </div>

    <script>
        function start() {
            console.log('start----');

            var botaoCalculo = document.querySelector('#botaoCalculo');
            botaoCalculo.addEventListener('click', handleButtonClick);

            var inputPeso = document.querySelector('#inputPeso');
            var inputAltura = document.querySelector('#inputAltura');

            //inputPeso.addEventListener('input', handleButtonClick);
            //inputAltura.addEventListener('input', handleButtonClick);

            //handleButtonClick();
        }

        function calculateImc(weight, height) {
            return weight / (height * height);
        }

        function handleButtonClick() {
            var inputPeso = document.querySelector('#inputPeso');
            var inputAltura = document.querySelector('#inputAltura');
            var imcResult = document.querySelector('#valorImc');

            var weight = Number(inputPeso.value);
            var height = Number(inputAltura.value);

            var imc = calculateImc(weight, height);
            var formattedImc = imc.toFixed(2).replace('.', ',');

            imcResult.textContent = formattedImc;

            var imc_mensagem = document.querySelector('#situacao');

            if (imc >= 16 && imc <= 16.9) {
                imc_mensagem.textContent = "Muito abaixo do peso";
            } else if (imc >= 17 && imc <= 18.4) {
                imc_mensagem.textContent = "Abaixo do peso";
            } else if (imc >= 18.5 && imc <= 24.9) {
                imc_mensagem.textContent = "Peso normal";
            } else if (imc >= 25 && imc <= 29.9) {
                imc_mensagem.textContent = "Acima do peso";
            } else if (imc >= 30 && imc <= 34.9) {
                imc_mensagem.textContent = "Obesidade grau I";
            } else if (imc >= 35 && imc <= 40) {
                imc_mensagem.textContent = "Obesidade grau II";
            } else if (imc > 40) {
                imc_mensagem.textContent = "Obesidade grau III";
            } else {
                imc_mensagem.textContent = "inválido";
            }
        }

        start();

    </script>

</body>

</html>